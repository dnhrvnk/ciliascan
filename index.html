<!DOCTYPE html>
<html>
<head>
    <title>CiliaScan</title>
    <link rel="stylesheet" href="./css/general.css">
    <link rel="stylesheet" href="./css/macos-menu-bar.css">
    <link rel="stylesheet" href="./css/nav-tools-bar.css">
    <link rel="stylesheet" href="./css/content.css">
    <link rel="stylesheet" href="./css/annotations.css">
    <link rel="stylesheet" href="./css/custom-select.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="./css/onboarding.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
</head>
<body>
    <div class="macos-menu-bar">
        <div class="left-side">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        <div class="right-side">
            <button class="button update-button"><i class="fas fa-arrows-rotate icon-blue"></i> Update available</button> 
            <i class="fa-regular fa-circle-question icon"></i>
        </div>
    </div>

    <div id="alertF11" class="modal" style="display: block; color: white; padding: 20px; text-align: center;">
        <p>For a better user experience, please turn on fullscreen (<b>F11</b>).</p>
        <p>Please note that the app was not made responsive, so some buttons and modal windows may be misplaced.</p>
        <button class="button button-blue" onclick="closeAlertF11()">OK</button>
    </div>

    <div class="onboarding">
        <img src="./assets/1page.png" alt="page1" id="onboarding-modal">
        <div id="implicit-feedback">
            <div class="input-label" style="display: flex">
                <input type="checkbox" id="agree-checkbox"> 
                <label for="agree-checkbox"> 
                    Súhlasím s tým, aby CiliaScan zhromažďoval anonymizované údaje <br> o mojich interakciách s aplikáciou.
                </label>
            </div>
        </div>
        <div class="onboarding-buttons">
            <button class="onboarding-button button button-common" id="back-button" onclick="changePage(-1)">Späť</button>
            <button class="onboarding-button button button-blue" id="next-button" onclick="changePage(+1)">Ďalej</button>
        </div>
    </div>
</body>

<script>
    function closeAlertF11() {
        document.getElementById("alertF11").style.display = "none";
    }

    function changePage(step) {
        var img = document.getElementById('onboarding-modal');
        if(img.alt == "page1") {
            if(step == 1) {
                img.src = "./assets/2page.gif"; 
                img.alt = "page2";

                var onboardingButtons = document.querySelector('.onboarding-buttons');
                document.getElementById('back-button').style.display = 'inline-block';
                onboardingButtons.style.justifyContent = 'space-between';
            }
        } else if(img.alt == "page2") {
            if(step == 1) {
                img.src = "./assets/3page.png"; 
                img.alt = "page3";
                var implicit_feedback = document.getElementById('implicit-feedback');
                implicit_feedback.style.display = "block";
            } else {
                img.src = "./assets/1page.png"; 
                img.alt = "page1";

                var onboardingButtons = document.querySelector('.onboarding-buttons');
                document.getElementById('back-button').style.display = 'none';
                onboardingButtons.style.justifyContent = 'flex-end';
            }
        } else if(img.alt == "page3") {
            if(step == 1) {
                window.location.href = './pages/upload.html';
            } else {
                img.src = "./assets/2page.gif"; 
                img.alt = "page2";
                var implicit_feedback = document.getElementById('implicit-feedback');
                implicit_feedback.style.display = "none";
            }
        }
    }
</script>
</html>