<!DOCTYPE html>
<html>
<head>
    <title>CiliaScan</title>
    <link rel="stylesheet" href="./css/general.css">
    <link rel="stylesheet" href="./css/macos-menu-bar.css">
    <link rel="stylesheet" href="./css/nav-tools-bar.css">
    <link rel="stylesheet" href="./css/content.css">
    <link rel="stylesheet" href="./css/annotations.css">
    <link rel="stylesheet" href="./css/custom-select.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="./css/onboarding.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
</head>
<body>
    <div class="macos-menu-bar">
        <div class="left-side">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        <div class="right-side">
            <button class="button update-button"><i class="fas fa-arrows-rotate icon-blue"></i> Update available</button> 
            <i class="fa-regular fa-circle-question icon"></i>
        </div>
    </div>

    <div class="onboarding">
        <img src="../assets/1page.png" alt="page1" id="onboarding-modal">
        <div id="implicit-feedback">
            <div class="input-label" style="display: flex">
                <input type="checkbox" id="agree-checkbox"> 
                <label for="agree-checkbox"> I agree to allow CiliaScan to collect anonymized data on <br> my interactions with the application.</label>
            </div>
        </div>
        <div class="onboarding-buttons">
            <button class="onboarding-button button button-common" id="back-button" onclick="changePage(-1)">Back</button>
            <button class="onboarding-button button button-blue" id="next-button" onclick="changePage(+1)">Next</button>
        </div>
    </div>
</body>

<script>
    function changePage(step) {
        var img = document.getElementById('onboarding-modal');
        if(img.alt == "page1") {
            if(step == 1) {
                img.src = "../assets/2page.gif"; 
                img.alt = "page2";

                var onboardingButtons = document.querySelector('.onboarding-buttons');
                document.getElementById('back-button').style.display = 'inline-block';
                onboardingButtons.style.justifyContent = 'space-between';
            }
        } else if(img.alt == "page2") {
            if(step == 1) {
                img.src = "../assets/3page.png"; 
                img.alt = "page3";
                var implicit_feedback = document.getElementById('implicit-feedback');
                implicit_feedback.style.display = "block";
                document.getElementById('next-button').textContent = 'Done';
            } else {
                img.src = "../assets/1page.png"; 
                img.alt = "page1";

                var onboardingButtons = document.querySelector('.onboarding-buttons');
                document.getElementById('back-button').style.display = 'none';
                onboardingButtons.style.justifyContent = 'flex-end';
            }
        } else if(img.alt == "page3") {
            if(step == 1) {
                window.location.href = './pages/upload.html';
            } else {
                img.src = "../assets/2page.gif"; 
                img.alt = "page2";
                var implicit_feedback = document.getElementById('implicit-feedback');
                implicit_feedback.style.display = "none";
            }
        }
    }



</script>
</html>