<!DOCTYPE html>
<html>
<head>
    <title>CiliaScan</title>
    <link rel="stylesheet" href="../css/general.css">
    <link rel="stylesheet" href="../css/macos-menu-bar.css">
    <link rel="stylesheet" href="../css/nav-tools-bar.css">
    <link rel="stylesheet" href="../css/content.css">
    <link rel="stylesheet" href="../css/annotations.css">
    <link rel="stylesheet" href="../css/custom-select.css">
    <link rel="stylesheet" href="../css/modal.css">
    <link rel="stylesheet" href="../css/explicit-feedback.css">
    <link rel="stylesheet" href="../css/decision-tree.css">
    <link rel="stylesheet" href="../css/model-information.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
</head>
<body>
    <div class="macos-menu-bar">
        <div class="left-side">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        <div class="right-side">
            <button class="button update-button"><i class="fas fa-arrows-rotate icon-blue"></i> Update available</button> 
            <i class="fa-regular fa-circle-question icon"></i>
        </div>
    </div>

    <nav class="nav-tools-bar">
        <div class="nav-left-side">
            <img src="../assets/logo-icon.svg" alt="Logo Icon" class="logo">
            <h5>CookieScan modul</h5>
        </div>

        <div class="nav-middle-side">
            <div class="dropdown">
                <button class="button button-icons-disabled dropdown-toggle" id="dropdownMenuButton" onclick="startInboarding()" disabled>
                  <i class="fa-regular fa-pen-to-square"></i>
                  <span id="notification-dot"></span>
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="run-annotation">
                  <a class="dropdown-item" href="#" id="btn-run-annotation" onclick="simulate_click()">Spusti anotáciu</a>
                  <a class="dropdown-item" href="#" id="btn-reset-annotation" onclick="" style="color: grey">Resetuj anotáciu</a>
                </div>
            </div>
              
            <div class="main-button-icons">
                <button class="button button-icons"><i class="fa-solid fa-hand icon"></i></button>
                <button class="button button-icons"><i class="fa-solid fa-magnifying-glass-plus icon"></i></i></button>
            </div>
            <div class="dropdown">
                <button 
                    id="mtds-tool-btn"
                    class="dropbtn button button-icons"
                    onclick="myFunction()"
                >
                    <div class="annotation table Vanilková"></div>
                    <span>Vanilková</span>
                    <ul class="dropdown-content dropdown-menu" id="mtds-tool-dropdown-content">
                        <li onclick="((t)=>set_tool('Vanilková',t))(this)" class="active"><div class="annotation table Vanilková"></div><span>Vanilková</span></li>
                        <li onclick="((t)=>set_tool('Čokoládová',t))(this)"><div class="annotation table Čokoládová"></div><span>Čokoládová</span></li>
                        <li onclick="((t)=>set_tool('Red-velvet',t))(this)"><div class="annotation table Red-velvet"></div><span>Red velvet</span></li>
                        <li onclick="((t)=>set_tool('Iná',t))(this)"><div class="annotation table Iná"></div><span>Iná</span></li>
                    </ul>
                </button>
            </div>
            <div class="dropdown">
                <button class="button button-icons dropdown-toggle" id="dropdownMenuButton2">
                    <i class="mdi mdi-circle-opacity icon"></i>
                </button>
                <div class="dropdown-menu dm2" aria-labelledby="dropdownMenuButton2">
                    <input type="range" min="0" max="100" value="100" class="slider" id="myRange">
                    <div class="ranges">
                        <p>0</p>
                        <p>100</p>
                    </div>
                    <output id="rangeValue" for="myRange">100</output>
                </div>
            </div>
        </div>

        <div class="nav-right-side">
            <button class="button button-share"><i class="fa-regular fa-share-from-square icon-blue"></i>Zdieľaj</button>
            <button class="button button-share"><i class="fa-solid fa-upload icon-blue"></i>Nahraj obrázky</button>

            <button id="btn-export" class="button button-grey" onclick="export_annotations()" disabled><i class="fa-solid fa-download icon"></i> Export</button>
            
            <button class="button button-icons" style="margin-right: 0;" onclick="openModelInfo()" disabled><i class="fa-solid fa-robot icon icon-nav"></i></button>
            
            <div class="dropdown">
                <button class="button button-icons dropdown-toggle" id="dropdownMenuButton3">
                    <span class="mdi mdi-cog-outline icon icon-nav"></span>
                </button>
                <div class="dropdown-menu" id="settings-menu" aria-labelledby="dropdownMenuButton3">
                    <label class="dropdown-item" for="allow-collecting-data">
                        Povoliť zber údajov
                        <input type="checkbox" id="allow-collecting-data">
                        <span class="toggle"></span>
                    </label>
                    <a class="dropdown-item" href="#" onclick="openExplicitFeedback()">Spätná väzba</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="main">
        <aside class="left-aside">
            <div class="search-div">
                <input type="text" class="search" placeholder="Vyhľadaj obrázok" oninput="searchImages()">
                <i class="fa-solid fa-xmark icon icon-clear-search" onclick="clearSearch()"></i>
            </div>            
            <div class="button-for-images">
                <button class="button button-common">
                    <i class="fa-regular fa-trash-can icon icon-common"></i>
                    Vymaž obrázky
                </button>
            </div>
            <div class="uploaded-images">
                <div id="noAnnotationMessage">Obrázok neexistuje</div>
                
                <div class="uploaded-image">
                    <div class="uploaded-image-collapsible" onclick="openAnnotation(this)">
                        <div class="uploaded-image-img-p" >
                            <img src="../images/1.png" alt="image1">
                            <p>Cookies 1</p>
                        </div>
                        <div class="uploaded-image-icons">
                            <i class="fa-regular fa-trash-can icon"></i>
                            <i class="fa-solid fa-chevron-right chevron-icon chevron-rotatable icon"></i>
                        </div>
                    </div>
                    <div class="uploaded-image-annotations">
                        <table class="table-annotations">
                            <tbody id="image1-annotations-table" cellspacing="0">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="uploaded-image">
                    <div class="uploaded-image-collapsible" onclick="openAnnotation(this)">
                        <div class="uploaded-image-img-p">
                            <img src="../images/2.png" alt="image2">
                            <p>Cookies 2</p>
                        </div>
                        <div class="uploaded-image-icons">
                            <i class="fa-regular fa-trash-can icon"></i>
                            <i class="fa-solid fa-chevron-right chevron-icon chevron-rotatable icon"></i>
                        </div>
                    </div>
                    <div class="uploaded-image-annotations">
                        <table class="table-annotations">
                            <tbody id="image2-annotations-table" cellspacing="0">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="uploaded-image">
                    <div class="uploaded-image-collapsible" onclick="openAnnotation(this)">
                        <div class="uploaded-image-img-p">
                            <img src="../images/3.png" alt="image3">
                            <p>Cookies 3</p>
                        </div>
                        <div class="uploaded-image-icons">
                            <i class="fa-regular fa-trash-can icon"></i>
                            <i class="fa-solid fa-chevron-right chevron-icon chevron-rotatable icon"></i>
                        </div>
                    </div>
                    <div class="uploaded-image-annotations">
                        <table class="table-annotations">
                            <tbody id="image3-annotations-table" cellspacing="0">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="uploaded-image">
                    <div class="uploaded-image-collapsible" onclick="openAnnotation(this)">
                        <div class="uploaded-image-img-p">
                            <img src="../images/4.png" alt="image4">
                            <p>Cookies 4</p>
                        </div>
                        <div class="uploaded-image-icons">
                            <i class="fa-regular fa-trash-can icon"></i>
                            <i class="fa-solid fa-chevron-right chevron-icon chevron-rotatable icon"></i>
                        </div>
                    </div>
                    <div class="uploaded-image-annotations">
                        <table class="table-annotations">
                            <tbody id="image4-annotations-table" cellspacing="0">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="uploaded-image">
                    <div class="uploaded-image-collapsible" onclick="openAnnotation(this)">
                        <div class="uploaded-image-img-p">
                            <img src="../images/5.png" alt="image5">
                            <p>Cookies 5</p>
                        </div>
                        <div class="uploaded-image-icons">
                            <i class="fa-regular fa-trash-can icon"></i>
                            <i class="fa-solid fa-chevron-right chevron-icon chevron-rotatable icon"></i>
                        </div>
                    </div>
                    <div class="uploaded-image-annotations">
                        <table class="table-annotations">
                            <tbody id="image5-annotations-table" cellspacing="0">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="uploaded-image">
                    <div class="uploaded-image-collapsible" onclick="openAnnotation(this)">
                        <div class="uploaded-image-img-p">
                            <img src="../images/6.png" alt="image6">
                            <p>Cookies 6</p>
                        </div>
                        <div class="uploaded-image-icons">
                            <i class="fa-regular fa-trash-can icon"></i>
                            <i class="fa-solid fa-chevron-right chevron-icon chevron-rotatable icon"></i>
                        </div>
                    </div>
                    <div class="uploaded-image-annotations">
                        <table class="table-annotations">
                            <tbody id="image6-annotations-table" cellspacing="0">
                            </tbody>
                        </table>
                    </div>
                </div>
                
            </div>
        </aside>
        <div class="main-content">
            <div id="image-annotations">
                <img src="" alt="" id="mainImage">
            </div>
            
            <div class="tooltip-container">
                <div id="warning-modal" class="modal" onclick="updateWarningMessage()">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div id="warning-expl">
                                <i class="fa-solid fa-exclamation icon"></i>
                            </div>    
                        </div>
                    </div>
                </div>
                <div id="tooltip-warning" class="tooltip"><b>Pozor! </b> Model AI možno nevedel <br> niektoré sušienky označiť a je potrebná kontrola.</div>
            </div>

            <div id="model-information">
                <div id="model-information-content">
                    <div id="model-information-header "style="display: flex;">
                        <h3>Predstavenie nášho modelu umelej inteligencie</h3>
                        <button class="close" onclick="closeModelInformation()">&times;</button>
                    </div>
                    <div id="model-information-info">
                        <div id="model-nav">
                            <a href="#" onclick="showContent('overview')" id="overview-link" class="active">Prehľad</a>
                            <a href="#" onclick="showContent('microtubular-defect')" id="microtubular-defect-link">Príchute sušienok</a>
                            <a href="#" onclick="showContent('dynein-arms')" id="dynein-arms-link">Typy kúskov v sušienkach</a>
                        </div>
                        <div id="model-content">
                            <div id="overview" class="content-section">
                                <h4>Prehľad</h4>
                                <p>Náš špičkový model umelej inteligencie je navrhnutý tak, aby <b>pomáhal pri anotácii a analýze sušienok na diagnostiku SušienkoChoroby</b>.</p>
                                <p>Náš model AI je starostlivo vycvičený na rozsiahlom súbore anotovaných snímok sušienok, ktoré starostlivo označili sušienkoexperti. </p>
                                <p>Prostredníctvom pokročilých algoritmov strojového učenia bol model vycvičený na identifikáciu a klasifikáciu rôznych vlastností sušienok s pozoruhodnou presnosťou.</p>
                                <hr>
                                <h4>Limitácie</h4>
                                <p>Ako pri každom systéme umelej inteligencie sa môžu občas vyskytnúť falošne pozitívne alebo falošne negatívne výsledky.</p>
                                <p>Preto <b>ľudská kontrola</b> je kľúčová pri interpretácii označení modelu.</p>
                                <p>Takisto náš model <b>neanotuje všetky sušienky</b>, ale len tie, s ktorými si je najviac istý.</p>
                                <p>Obrázky je teda potrebné ešte skontrolovať a poprípadne opraviť.</p>
                                <hr>
                                <h4>Výkonnosť</h4>
                                <p><b>Priemerná chyba modelu:</b> ±5%</p>
                                <p><b>Maximálna chyba modelu:</b>  ±15%</p>
                                <p>Nástroj umelej inteligencie dokáže vysvetliť 85 % odchýlok od trénovaných údajov</p>
                            </div>
                            <div id="microtubular-defect" class="content-section" style="display: none;">
                                <h4>Príchute sušienok</h4>
                                <p>Náš model bol natrénovaný určiť príchuť sušienky.</p>
                                <hr>
                                <p style="font-size: 13px;"><b>Počty príchutí sušienok, ktoré boli na snímkach v súbore údajov, na ktorých bol model natrénovaný:</b></p>
                                <div style="text-align: center;">
                                    <img src="../assets/dataset-defects.png" alt="dataset-defects" width="60%" height="auto">
                                </div>
                                <hr>
                                <p style="font-size: 13px;">Na základe týchto <b>pravidiel</b> sa náš model AI naučil rozpoznávať príchute sušienky:</p>
                                <ol>
                                    <li>
                                        <b>Vanilková príchuť:</b>
                                        Identifikuj svetlú farbu sušienky a analyzuj mäkšiu textúru.
                                    </li>
                                    <li>
                                        <b>Čokoládová príchuť:</b>
                                        Identifikuj tmavú farbu sušienky a analyzuj hustejšiu textúru.
                                    </li>
                                    <li>
                                        <b>Red velvet príchuť:</b>
                                        Identifikuj charakteristickú červenú farbu sušienky
                                    </li>
                                    <li>
                                        <b>Iná príchuť:</b>
                                        Ak sa sušienka nezodpovedá žiadnej z vyššie uvedených príchutí, identifikuj ju ako "inú".                                
                                    </li>
                                </ol>
                                <hr>
                                <p style="font-size: 13px;"><b>Typické príklady</b> každej príchute sušienky slúžia ako referencie na identifikáciu a pochopenie vlastností každej príchute.</p>
                                <div id="defect-navigation">
                                    <a href="#" onclick="showExample('disarranged')" id="disarranged-link" class="active">Vanilková príchuť</a>
                                    <a href="#" onclick="showExample('extra-tubule')" id="extra-tubule-link">Čokoládová príchuť</a>
                                    <a href="#" onclick="showExample('single-tubule')" id="single-tubule-link">Red velvet príchuť</a>
                                    <a href="#" onclick="showExample('transposition')" id="transposition-link">Iná príchuť</a>
                                </div>
                                <div id="example-images" class="disarranged" style="display: flex">
                                    <img src="../assets/vanilla1.png" alt="">
                                    <img src="../assets/vanilla2.png" alt="">
                                    <img src="../assets/vanilla3.png" alt="">
                                    <img src="../assets/vanilla4.png" alt="">
                                    <img src="../assets/vanilla5.png" alt="">
                                </div>
                                <div id="example-images" class="extra-tubule">
                                    <img src="../assets/choco1.png" alt="">
                                    <img src="../assets/choco2.png">
                                    <img src="../assets/choco3.png" alt="">
                                    <img src="../assets/choco4.png" alt="">
                                    <img src="../assets/choco5.png" alt="">
                                </div>
                                <div id="example-images" class="single-tubule">
                                    <img src="../assets/red1.png" alt="">
                                    <img src="../assets/red2.png" alt="">
                                    <img src="../assets/red3.png" alt="">
                                    <img src="../assets/red4.png" alt="">
                                    <img src="../assets/red5.png" alt="">
                                </div>
                                <div id="example-images" class="transposition">
                                    <img src="../assets/ine1.png" alt="">
                                    <img src="../assets/ine2.png" alt="">
                                    <img src="../assets/ine3.png" alt="">
                                    <img src="../assets/ine4.png" alt="">
                                    <img src="../assets/ine5.png" alt="">
                                </div>
                            </div>
                            <div id="dynein-arms" class="content-section" style="display: none;">
                                <h4>Typy kúskov v sušienkach</h4>
                                <p>Náš model bol natrénovaný určiť typ kúskov v sušienkach.</p>
                                <hr>
                                <p style="font-size: 13px;"><b>Počty typov kúskov v sušienkach, ktoré boli na snímkach v súbore údajov, na ktorých bol model natrénovaný:</b></p>
                                <div style="text-align: center;">
                                    <img src="../assets/dataset-arms.png" alt="dataset-defects" width="60%" height="auto">
                                </div>
                                <hr>
                                <p style="font-size: 13px;">Na základe týchto <b>pravidiel</b> sa náš model AI naučil rozpoznávať typy kúskov v sušienkách:</p>
                                <ol>
                                    <li>
                                        <b>Čokoládové kúsky:</b>
                                        Ensure a complete set of dynein arms is attached along the microtubules.
                                        Check for the presence of both inner and outer dynein arms throughout the axoneme.
                                    </li>
                                    <li>
                                        <b>Lentilky:</b>
                                        Hľadaj malé tmavé alebo svetlé kúsky, ktoré by mohli byť čokoládové čipy alebo nasekané kúsky čokolády. Analyzuj ich tvar a farbu a porovnaj ich s referenčnými čokoládovými kúskami.
                                    </li>
                                    <li>
                                        <b>Iné:</b>
                                        Ak sa v sušienke vyskytujú kúsky, ktoré sa nezodpovedajú žiadnemu z vyššie uvedených typov, označ ich ako "iné kúsky".
                                    </li>
                                    <li>
                                        <b>Žiadne kúsky:</b>
                                        Ak sa v sušienke nevyskytujú žiadne viditeľné kúsky, označ ich ako "žiadne kúsky".                       
                                    </li>
                                    <li>
                                        <b>Neviem určiť:</b>
                                        Ak nie sú viditeľné žiadne charakteristické kúsky alebo ich prítomnosť nie je jasne rozpoznateľná, označ ich ako "neurčiteľnú".
                                    </li>
                                </ol>
                                <hr>
                                <p style="font-size: 13px;"><b>Typické príklady</b> každého typu kúskov v sušienke slúžia ako referencie na identifikáciu a pochopenie vlastností každej príchute.</p>
                                <div id="defect-navigation">
                                    <a href="#" onclick="showExample('no-arms-missing')" id="no-arms-missing-link" class="active">Čokoládové kúsky</a>
                                    <a href="#" onclick="showExample('inner-arms-missing')" id="inner-arms-missing-link">Lentilky</a>
                                    <a href="#" onclick="showExample('both-arms-missing')" id="both-arms-missing-link">Iné</a>
                                    <a href="#" onclick="showExample('outer-arms-missing')" id="outer-arms-missing-link">Žiadne</a>
                                </div>
                                <div id="example-images" class="inner-arms-missing">
                                    <img src="../assets/ck1.png" alt="">
                                    <img src="../assets/ck2.png" alt="">
                                    <img src="../assets/ck3.png" alt="">
                                    <img src="../assets/ck4.png" alt="">
                                    <img src="../assets/ck5.png" alt="">
                                </div>
                                <div id="example-images" class="outer-arms-missing">
                                    <img src="../assets/len1.png" alt="">
                                    <img src="../assets/len2.png" alt="">
                                    <img src="../assets/len3.png" alt="">
                                    <img src="../assets/len4.png" alt="">
                                    <img src="../assets/len5.png" alt="">
                                </div>
                                <div id="example-images" class="no-arms-missing" style="display: flex">
                                    <img src="../assets/disarranged1.png" alt="">
                                    <img src="../assets/disarranged2.png" alt="">
                                    <img src="../assets/disarranged3.png" alt="">
                                    <img src="../assets/disarranged4.png" alt="">
                                    <img src="../assets/disarranged5.png" alt="">
                                </div>
                                <div id="example-images" class="both-arms-missing">
                                    <img src="../assets/transposition1.png" alt="">
                                    <img src="../assets/transposition2.png" alt="">
                                    <img src="../assets/transposition3.png" alt="">
                                    <img src="../assets/transposition4.png" alt="">
                                    <img src="../assets/transposition5.png" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="feedback-AI-info">
                <div id="feedback-AI-info-content">
                    <div id="feedback-AI-info-header "style="display: flex;">
                        <h3>Bolo niektoré rozhodnue AI modelu nekorektné?</h3>
                        <button class="close" onclick="closeFeedbackAI()">&times;</button>
                    </div>
                    <div id="feedback-AI-info-info">
                        <textarea id="decision-textarea" placeholder="Napíš čo AI model spravil zle..."></textarea>
                    </div>
                    <div style="text-align: end; padding-inline: 20px;">
                        <button class="button button-blue" onclick="closeFeedbackAI()">Odoslať</button>
                    </div>
                </div>
            </div>

            <div id="feedback-AI-info-success">
                <div id="feedback-AI-info-content-success">
                    <div id="feedback-AI-info-header-success"style="display: flex;">
                        <button class="close" onclick="closeFeedbackSuccess()">&times;</button>
                    </div>
                    <div id="feedback-AI-info-success-info">
                        <p style="color:#006CEB"><b>Thank you for your feedback!</b></p>
                        <p>Zapracujeme Vaše návrhy a vylepšenia uvidíte pri najbližšom spustení automatickej anotácie!</p>
                    </div>
                </div>
            </div>

            <div id="statistics">
                <img src="../assets/statistics.png" alt="Statistics" id="image-statistics" class="image">
            </div>

            <div id="annotation-info-card">
                <div id="info-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <h3>Information about AI decisions</h3>
                    <div style="display: flex;">
                        <button class="close"><i class="fa-solid fa-message" style="font-size: 13px;" onclick="openFeedbackAI()"></i></button>
                        <button class="close" onclick="closeAnnotationInfo()">&times;</button>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; color: white; font-size: 15px;">
                    <p><b>Microtubular defect:</b> Compound</p>
                    <p><b>Dynein arms defect:</b> No arms missing</p>
                    <p><b>Confidence level:</b> 90%</p>
                </div>
                <hr>
                <div>
                    <h4>Decision tree</h4>
                    <div id="decision-tree">
                        <img src="../assets/decision_tree.png">
                    </div>
                    <hr style="margin-top: 30px;">
                </div>
                <div>
                    <div class="row">
                        <div class="left">
                            <h4>Microtubular defect type</h4>
                            <img src="../assets/class.png" alt="Feature 1">
                        </div>
                        <div class="right">
                            <h4>Dynein arms defect type</h4>
                            <img src="../assets/subclass.png" alt="Feature 2">
                        </div>
                    </div>
                    <hr style="margin-top: 30px;">
                    <div class="row">
                        <div class="left">
                            <h4>Microtubular defect feature</h4>
                            <img src="../assets/class_shape.png" alt="Feature 1">
                        </div>
                        <div class="right">
                            <h4>Dynein arms defect feature</h4>
                            <img src="../assets/subclass_shape.png" alt="Feature 2">
                        </div>
                    </div>
                    <hr style="margin-top: 30px;">
                    <div class="row">
                        <div>
                            <h4>Annotated cilia:</h4>
                            <img src="../assets/compound1.png" alt="Cilia" style="width: 80%; border-radius: 10px;">
                        </div>
                        <div>
                            <h4>Similiar compound cilias with no missing arms:</h4>
                            <div style="display:flex; column-gap: 30px;">
                                <img src="../assets/compound2.png" alt="Cilia" style="width: 100px; border-radius: 10px;">
                                <img src="../assets/compound3.png" alt="Cilia" style="width: 100px; border-radius: 10px;">
                                <img src="../assets/compound5.png" alt="Cilia" style="width: 100px; border-radius: 10px;">
                                <img src="../assets/compound4.png" alt="Cilia" style="width: 100px; border-radius: 10px;">
                            </div>
                        </div>
                    </div>
                    <hr style="margin-top: 30px;">
                    <div class="row">
                        <div>
                            <h4>Why is it not other defect:</h4>
                            <div class="Counterfactual-nav">
                                <a href="#" onclick="showCounterfactual('Counterfactual-disarranged')" id="Counterfactual-disarranged-link" class="active">Disarranged</a>
                                <a href="#" onclick="showCounterfactual('Counterfactual-extra-tubule')" id="Counterfactual-extra-tubule-link">Extra Tubule</a>
                                <a href="#" onclick="showCounterfactual('Counterfactual-single-tubule')" id="Counterfactual-single-tubule-link">Single Tubule</a>
                                <a href="#" onclick="showCounterfactual('Counterfactual-transposition')" id="Counterfactual-transposition-link">Transposition</a>
                                <a href="#" onclick="showCounterfactual('Counterfactual-one-of-central-pair-missing')" id="Counterfactual-one-of-central-pair-missing-link">One of Central Pair Missing</a>
                                <a href="#" onclick="showCounterfactual('Counterfactual-both-missing')" id="Counterfactual-both-missing-link">Both Missing</a>
                            </div>
                            <div class="Counterfactual-imgs">
                                <img src="../assets/compound-dissarenged.png" id="Counterfactual-disarranged" alt="Cilia" style="display: block;">
                                <img src="../assets/compound-both-pairs.png" id="Counterfactual-both-missing" alt="Cilia">
                                <img src="../assets/compound-one-pairs.png" id="Counterfactual-one-of-central-pair-missing" alt="Cilia">
                                <img src="../assets/compound-extra-tubule.png" id="Counterfactual-extra-tubule" alt="Cilia">
                                <img src="../assets/compound-single-tubule.png" id="Counterfactual-single-tubule" alt="Cilia">
                                <img src="../assets/compound-transposition.png" id="Counterfactual-transposition" alt="Cilia">
                            </div>
                        </div>
                </div>
                </div>
            </div>

            <div id="welcome-to-run-annotation">
                <div id="welcome-to-run-annotation-content">
                    <button class="close" onclick="stopInboarding()">&times;</button>
                    <img src="../assets/welcome-to-run-annotation.gif" alt="Welcome to Run Annotation" id="image-welcome-to-run-annotation" class="image">
                    <button class="button button-blue" id="next-button" onclick="inboarding()">Ďalej</button>
                </div>
            </div>

            <div class="modal-overlay" id="modal-ggg-overlay">
                <div id="generate-modal" class="modal" style="width: 30%;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <span class="icon close" onclick="closeGenerate()">&times;</span>
                        </div>
                        <div class="modal-body">
                            <p><b style="color: #006CEB; font-size: 13px;">Ste si istí, že chcete vygenerovať anotácie?</b></p>
                            <p>Upozorňujeme, že výstup navrhnutý umelou inteligenciou slúži iba na pomocné účely. Hoci sa model AI snaží poskytovať presné označenia, nemusí byť vždy správny.</p>                        
                        </div>
                        <div class="modal-footer" style="justify-content: end; margin-top: 20px;">
                            <button class="button button-blue" onclick="show_succsess()">Vygenerovať</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-overlay" id="modal-succ-overlay">
                <div id="succesful-generate-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <span class="icon close" onclick="closeSuccessGenerate()">&times;</span>
                        </div>
                        <div class="modal-body" style="text-align: center;">
                            <i class="fa-solid fa-circle-check" style="font-size: 60px; color: #29C740; margin-top: 20px;"></i>
                            <p style="margin-top: 20px; margin-bottom: 10px;">Anotácie boli úspešne vygenerované.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="icon close" onclick="closeModal()">&times;</span>
                    </div>
                    <div class="modal-body">
                        <p>
                            Ak chcete aktivovať automatickú anotáciu, jednoducho vyberte <br>"<b>Spusti anotáciu</b>" z rozbaľovacieho zoznamu. 
                            <br><br>
                            Náš model AI potom rýchlo zanalyzuje aktuálny obrázok a označí sušienky na ďalšie preskúmanie.
                        </p>
                    </div>
                    <div class="modal-footer">
                        <p>1 z 7</p>
                        <div style="column-gap: 5px; display: flex;">
                            <button id="backStep" class="button button-common" onclick="backStep()" style="display: none">Späť</button>
                            <button id="nextStep" class="button button-blue" style="display: none;" onclick="nextStep()">Ďalej</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="manual-anotate-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="icon close" onclick="closeManual()">&times;</span>
                    </div>
                    <div class="modal-body">
                        <p>
                            Poďme sa naučiť ako <b>ručne anotovať</b> obrázok.
                        </p>
                    </div>
                    <div class="modal-footer">
                        <p>1 z 8</p>
                        <div style="column-gap: 5px; display: flex;">
                            <button id="backManual" class="button button-common" onclick="backManual()" style="display: none">Späť</button>
                            <button id="nextManual" class="button button-blue" onclick="nextManual()">Ďalej</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-overlay" id="modal-loading-overlay">
                <div class="modal loading" id="modal-loading">
                    <div class="modal-content">
                        <div class="modal-body">
                            <p>Načítava sa</p>
                        </div>
                    </div>
                </div>
            </div>
                  
            <div id="modal-reminder" class="modal">
                <div class="modal-content">
                    <div class="modal-body">
                        <p>Vedeli ste, že proces môžete <b>zrýchliť</b> spustením automatickej anotácie?</p>
                    </div>
                </div>
            </div>

            <div id="explicit-feedback">
                <div id="explicit-feedback-content">
                    <div id="feedback-header"style="display: flex;">
                        <h3>Pošli nám svoj názor</h3>
                        <p id="feedback-steps">Krok 1 z 5</p>
                        <button class="close" onclick="closeExplicitFeedback()">&times;</button>
                    </div>
                    <div id="feedback-response">
                        <button class="close" onclick="closeExplicitFeedback()">&times;</button>
                        <h3 style="color: #006CEB">Ďakujeme za vašu spätnú väzbu na CookieScan!</h3>
                        <p>
                            Vážime si, že ste si našli čas a podelili sa s nami o svoje názory. Vaša spätná väzba je neuveriteľne cenná a pomôže nám zlepšiť skúsenosti so systémom CookieScan pre všetkých našich používateľov.
                            <br><br>                              
                            Ak máte ďalšie pripomienky alebo návrhy, neváhajte nás kontaktovať. Snažíme sa stále vylepšovať Vaše skúsenosti.
                            <br><br>
                            <b>Ďakujeme Vám ešte raz za Vašu cennú spätnú väzbu!</b>
                        </p>
                    </div>
                    <div id="form-feedback">
                        <div class="one-two-questions">
                            
                        <h4>1. Celková spokojnosť</h4>
                            <p>Ako ste spokojný so systémom CookieScan?</p>
                            <div class="hodnotenie">
                                <button class="rating-btn-satisfaction" value="1">Veľmi nespokojný</button>
                                <button class="rating-btn-satisfaction" value="2">Nespokojný</button>
                                <button class="rating-btn-satisfaction" value="3">Neutrálne</button>
                                <button class="rating-btn-satisfaction" value="4">Spokojný</button>
                                <button class="rating-btn-satisfaction" value="5">Veľmi spokojný</button>
                            </div>
            
                            <hr>
    
                            <h4>2. Jednoduchosť používania:</h4>
                            <p>Ako jednoduché bolo naučiť sa používať CookieScan? </p>
                            <div class="hodnotenie">
                                <button class="rating-btn-easy" value="1">Veľmi náročné</button>
                                <button class="rating-btn-easy" value="2">Náročné</button>
                                <button class="rating-btn-easy" value="3">Neutrálne</button>
                                <button class="rating-btn-easy" value="4">Ľahké</button>
                                <button class="rating-btn-easy" value="5">Veľmi ľahké</button>
                            </div>
        
                            <p>Stretli ste sa pri používaní s nejakými ťažkosťami alebo problémami?</p>
                            <textarea name="feedback" id="feedback" placeholder="Napíšte svoje problémy sem"></textarea>
                        </div>

                        <div class="three-questions ">                             
                            <h4>3. Funkčnosť a vlastnosti:</h4>
                            <p>Ktoré funkcie programu CiliaScan považujete za najužitočnejšie pri anotovaní sušienok?
                            <textarea name="feedback" id="feedback" placeholder="Napíšte sem užitočné funkcie"></textarea>
                            <p>Existujú nejaké ďalšie funkcie alebo vlastnosti, ktoré Vám v CookieScan chýbali?</p>
                            <textarea name="feedback" id="feedback" placeholder="Napíšte ďalšie funkcie sem"></textarea>
                        </div>

                        <div class="four-questions">
                            <h4>4. Presnosť a spoľahlivosť:</h4>
                            <p>Ako presné sú podľa vás anotácie modelu AI v CookieScan?
                            <textarea name="feedback" id="feedback" placeholder="Napíšte sem Váš názor na presnosť anotácií"></textarea>
                            <p>Stretli ste sa s prípadmi, keď boli anotácie modelu AI nepresné alebo nespoľahlivé?</p>
                            <textarea name="feedback" id="feedback" placeholder="Napíšte prípady nepresnosti sem"></textarea>
                        </div>

                        <div class="five-questions">                             
                            <h4>5. Návrhy na zlepšenie</h4>
                            <p>Máte nejaké návrhy, ako by sme mohli zlepšiť CookieScan, aby lepšie vyhovoval Vašim potrebám?</p>
                            <textarea name="feedback" id="feedback" placeholder="Napíšte vylepšienia sem"></textarea>
                        </div>
                        <div class="six-questions">          
                            <h4>6. Demografické údaje:</h4>
                            <p>Voliteľné: </p>: Uveďte niektoré demografické informácie (napr. povolanie, roky praxe v sušienkach), ktoré nám pomôžu lepšie pochopiť našich používateľov.</p>
                            <textarea name="feedback" id="feedback" placeholder="Napíšte niečo o sebe sem"></textarea>
                            <hr>

                            <h4>7. Ďalšie informácie:</h4>
                            <p>Je ešte niečo, o čo by ste nám chceli povedať?</p>
                            <textarea name="feedback" id="feedback" placeholder="..."></textarea>
                        </div>
                    </div>
                    <div class="explicit-feedback-footer">
                        <button class="button button-common" id="back-button" onclick="stepBack()">Späť</button>
                        <button class="button button-blue" id="submit-button" onclick="stepForward()">Ďalej</button>
                    </div>  
                </div>
            </div>
        </div>

        <aside class="right-aside"> 
            <div class="collapsible">
                <div class="collapsible-head" onclick="toggleCollapsible(this)">
                    <h3>Štatistika</h3>
                    <i class="fa-solid fa-chevron-down chevron-icon chevron-rotatable icon"></i>
                </div>
                <div class="collapsible-content">
                    <table class="stats">
                        <tr>
                           <td>Total:</td>
                            <td>100</td>
                            <td style="text-align: end;"><button class="button button-common" id="btnStatistics" onclick="showStatistics()">Zobraz štatistiku</button></td>
                        </tr>
                        <tr>
                            <td>Total DA:</td>
                            <td>50</td>
                        </tr>
                        <tr>
                            <td>Total MTDs:</td>
                            <td>100.00%</td>
                        </tr>
                        <tr>
                            <td>Total ODA:</td>
                            <td>100.00%</td>
                        </tr>
                        <tr>
                            <td>Total IDA:</td>
                            <td>100.00%</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="collapsible" id="annotation-info">
                <div class="collapsible-head" onclick="toggleCollapsible(this)">
                    <h3>Informácie o sušienke</h3>
                    <i class="fa-solid fa-chevron-down chevron-icon chevron-rotatable"></i>
                </div>
                <div class="collapsible-content">
                    <div class="annotation-info">
                        <div class="cilia-info">
                            <table class="table-annotation-info">
                                <tr>
                                    <td>Príchuť:</td>
                                    <td><select name="mtds" id="mtds">
                                        <option disabled selected value=""></option>
                                        <option value="Vanilková">Vanilková</option>
                                        <option value="Čokoládová">Čokoládová</option>
                                        <option value="Red velvet">Red velvet</option>
                                        <option value="Iná">Iná</option>
                                    </select></td>
                                </tr>
                                <tr>
                                    <td>Typ kúskov:</td>
                                    <td><select name="dynein" id="dynein">
                                        <option disabled selected value=""></option>
                                        <option value="4">Žiadne</option>
                                        <option value="1">Čokoláda</option>
                                        <option value="2">Lentilky</option>
                                        <option value="3">Iné</option>
                                        <option value="0">Neviem určiť</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Úroveň dôvery
                                        <sup>
                                            <div class="tooltip-container">
                                                <i class="fa-solid fa-circle-info icon info-icon conf-level-info"></i>
                                                <div class="tooltip">Úroveň dôvery udáva stupeň istoty presnosti označenia sušienky umelou inteligenciou.</div>
                                            </div>
                                        </sup>
                                        :
                                        </td>
                                        <td class="conf-level"><span class="chip" id="close-conf-level">--%</span> </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-head" onclick="toggleCollapsible(this)">
                    <h3>Poznámky</h3>
                    <i class="fa-solid fa-chevron-down chevron-icon chevron-rotatable"></i>
                </div>
                <div class="collapsible-content">
                    <textarea name="notes" id="notes" placeholder="Sem napíš svoje poznámky"></textarea>
                </div>
            </div>
        </aside>
    </main>
    <script src="../scripts/env.js"></script>
    <script src="../scripts/connect.js"></script>
    <script src="../scripts/select.js"></script>
    <script src="../scripts/scripts.js"></script>
    <script src="../scripts/annotate.js"></script>
    <script src="../scripts/statistics.js"></script>
    <script src="../scripts/slider.js"></script>
    <script src="../scripts/inboarding.js"></script>
    <script src="../scripts/explicit-feedback.js"></script>
    <script src="../scripts/manual-anotation.js"></script>
    <script src="../scripts/calibrate-trust.js"></script>
    <script src="../scripts/explainibility.js"></script>
</body>
</html>
